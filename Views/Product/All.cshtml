@model AllProductsSearchModel

@{
    ViewData["Title"] = "Products";
}
<div class="mb-2"></div>

<form method="get" class="form-inline">
    <input asp-controller="Product" asp-action="All" asp-for="Keyword" type="search" placeholder="Search" aria-label="Search">
    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
</form>

<div class="mb-5"></div>
<div class="row">

    @foreach (var product in Model.Products)
    {
        <div class="col-3">
            <div class="card bg-light">
                <img class="card-img-top" src="@product.ImageUrl" alt="@product.Name">
                <div class="card-body">
                    <h5 class="card-title">@product.Name</h5>
                    <p class="card-text">@product.Price  &euro;/@product.Unit </p>
                    <a href="#" class="btn btn-primary">Add to basket</a>
                </div>
            </div>
        </div>
    }

</div>

<div class="mt-3 text-center"></div>

@*Paging with previous and next*@
@*
    <nav>
        <a class="btn @(Model.CurrPage==1 ? "disabled" : string.Empty )" asp-conroller="Product" asp-action="All" asp-route-currPage=@(Model.CurrPage-1)>Previous</></a>
        <a class="btn @(Model.CurrPage== Model.TotalPages ? "disabled" : string.Empty )" asp-conroller="Product" asp-action="All" asp-route-currPage=@(Model.CurrPage+1)>Next</a>
    </nav>*@

<nav>
    <ul class="pagination pagination-lg">
        @for (int i = 1; i <= @Model.TotalPages; i++)
        {
            <li class="page-item"><a class="page-link" asp-controller="Product" asp-action="All" asp-route-currPage=@i>@i</a></li>
        }

    </ul>
</nav>
